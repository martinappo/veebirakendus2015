{"version":3,"sources":["custom.map.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.min.js","sourcesContent":["\tvar map;\r\n\r\n\tfunction initialize() {\r\n\t\tvar estonia = new google.maps.LatLng(58.886, 25.547);\r\n\t\t//Map itself\r\n\t\tvar mapOptions = {\r\n\t\t\tcenter: estonia,\r\n\t\t\tzoom: 8\r\n\t\t};\r\n\r\n\t\tmap = new google.maps.Map(document.getElementById('map-container'), mapOptions);\r\n\r\n\t\tgetTrainings();\r\n\t}\r\n\r\n\tfunction getTrainings() {\r\n\t\tjQuery.ajax({\r\n\t\t\ttype: 'GET',\r\n\t\t\turl: 'trainings/map',\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tpopulateTrainings(data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction populateTrainings(trainings) {\r\n\t\tfor (var i = 0, training; training = trainings[i]; i++) {\r\n\t\t\tplaceMarker(training);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction placeMarker(training) {\r\n\t\t//Parse coordinates\r\n\t\tvar coordinatesLatLng = new google.maps.LatLng(training.latitude, training.longitude);\r\n\r\n\t\t//Info window\r\n\t\tvar infoContent = '<h5>'+training.title+'</h5>'+\r\n\t\t\t'<p>'+training.description+'</p>';\r\n\t\tvar infoWindow = new google.maps.InfoWindow({\r\n\t\t\tcontent: infoContent,\r\n\t\t})\r\n\r\n\t\t//Adding marker\r\n\t\tvar marker = new google.maps.Marker({\r\n\t\t\tposition: coordinatesLatLng,\r\n\t\t\tmap: map,\r\n\t\t\ttitle: training.title\r\n\t\t});\r\n\r\n\t\t//Listener to marker\r\n\t\tgoogle.maps.event.addListener(marker, 'click', function() {\r\n\t\t\tinfoWindow.open(map,marker);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction loadScript() {\r\n\t\tvar script = document.createElement('script');\r\n\t\tscript.type = 'text/javascript';\r\n\t\tscript.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp?key=AIzaSyDkK8oL9mzyASA_lqgYYDleQDjVZLOonOY' + '&signed_in=true&callback=initialize';\r\n\t\tdocument.body.appendChild(script);\r\n\t}\r\n\twindow.onload = loadScript;\r\n"],"sourceRoot":"/source/"}